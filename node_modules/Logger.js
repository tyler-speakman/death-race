var util = require('util');

function log() {
  var args = appendStandardLogging.apply(null, arguments);
  console.log.apply(null, args);
}

function appendStandardLogging() {
  var args = Array.prototype.slice.call(arguments);
  args[0] = util.format.apply(null, args);
  args.unshift((new Date()).toISOString());
  args.unshift(process.pid);

  return args;
}

exports.log = log;
